
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Showing What Makes a Line Too Long - Dev and Such</title>
  <meta name="author" content="Brian Zwahr">

  
  <meta name="description" content="I&rsquo;m a programmer. In many ways, I&rsquo;m a bit of an old-school programmer. For instance, I like my lines no longer than 80 characters. I &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://echosa.github.io/blog/2012/07/31/showing-what-makes-line-too-long">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Dev and Such" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Dev and Such</a></h1>
  
    <h2>A blog pertaining to my own development experiences.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="echosa.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/blog/categories/php">PHP</a></li>
  <li><a href="/blog/categories/java">Java</a></li>
  <li><a href="/blog/categories/clojure">Clojure</a></li>
  <li><a href="/blog/categories/ios">iOS</a></li>
  <li><a href="/blog/categories/node-js">Node.js</a></li>
  <li><a href="/blog/categories/emacs">Emacs</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Showing What Makes a Line Too Long</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2012-07-31T09:31:00-05:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>31</span><span class='date-suffix'>st</span>, <span class='date-year'>2012</span></span> <span class='time'>9:31 am</span></time>
        
           | <a href="#disqus_thread"
             data-disqus-identifier="http://echosa.github.io">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>I&rsquo;m a programmer. In many ways, I&rsquo;m a bit of an old-school programmer. For instance, I like my lines no longer than 80 characters. I found myself wanting a visual cue warning me when I go over that limit, and in my search for solutions I found a few options.</p>

<!--more-->


<p>The first option is make sure I code in a window that is exactly 80 characters wide. This is nice and easily done with Emacs using multi-windows frames or making sure your frame is the proper width. I usually (or at least, used to) do the former. However, this does require manually handling windows/frames/etc. which can be a pain at times.</p>

<p>The next option is to look at the various packages for handling long lines or column visualization and pick one. Some will put a long vertical bar at a given column, but in my experience the display will get messed up. There are many packages that are meant to help handle long lines, but I&rsquo;ve yet to find one I really liked. Plus, why use an external package when Emacs already has what you need?</p>

<p>Which brings me to option the third. These days Emacs comes with whitespace-mode, which is an incredibly powerful and customizable tool. You can use it to show visual whitespace (show spaces, tabs, paragraph marks, etc), lines that are too long, blank lines, trailing whitespace, etc. In my case, with a couple of lines of code, it can be used to show you lines that are too long (lines over 80 characters).</p>

<p>In the hook for whichever mode you want this visualization/decoration, place the following lines of code:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="nv">make-local-variable</span> <span class="ss">&#39;whitespace-style</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nb">setf</span> <span class="nv">whitespace-style</span> <span class="o">&#39;</span><span class="p">(</span><span class="nv">face</span> <span class="nv">lines-tail</span> <span class="nv">tab-mark</span><span class="p">))</span>
</span><span class='line'><span class="p">(</span><span class="nv">whitespace-mode</span> <span class="no">t</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>What this does is make the variable <code>whitespace-style</code> buffer local (so that any customization or changes outside of the buffer won&rsquo;t affect how whitespace-style decorates the current buffer) then set the variable to a particular value. I have chosen the value &lsquo;(face lines-tail tab-mark).</p>

<ul>
<li>&ldquo;face&rdquo; has to be there (and must be first, I believe) in order for anything to be visible. No matter what other settings you choose, if &ldquo;face&rdquo; isn&rsquo;t there you won&rsquo;t see anything.</li>
<li>&ldquo;lines-tail&rdquo; will highlight any characters past the <code>fill-column</code> (mine is set to 80) on each line. This is an important difference from the &ldquo;lines&rdquo; option, which will highlight the entire line if it is longer than <code>fill-column</code>. I prefer to only have the offending characters highlighted so that I know where to break the line if necessary.</li>
<li>I also set &ldquo;tab-mark&rdquo; because I don&rsquo;t use TABs; I only use spaces. If I open a file and it is using TABs, I want to know.</li>
</ul>


<p>The third line turns on whitespace-mode so that the decorations will be rendered. You&rsquo;ll know that whitespace-mode is on if you see &ldquo;ws&rdquo; in the mode-line.</p>

<p>There are many more options that can be set for <code>whitespace-style</code>. You can see them all by looking at the help page with <code>C-h v whitespace-style</code>. Keep in mind that you&rsquo;ll need whitespace-mode loaded before you can view the help page.</p>

<p>I&rsquo;m sure you could also turn on whitespace-mode globally. I wouldn&rsquo;t want that, however, so I just put those three lines of code in my mode hooks to enable it for each mode I want it in.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Brian Zwahr</span></span>

      




<time class='entry-date' datetime='2012-07-31T09:31:00-05:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>31</span><span class='date-suffix'>st</span>, <span class='date-year'>2012</span></span> <span class='time'>9:31 am</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/emacs/'>emacs</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://echosa.github.io/blog/2012/07/31/showing-what-makes-line-too-long/" data-via="echosa" data-counturl="http://echosa.github.io/blog/2012/07/31/showing-what-makes-line-too-long/" >Tweet</a>
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/07/27/package-bundle-keep-track-of-your/" title="Previous Post: package-bundle: Keep track of your dependencies!">&laquo; package-bundle: Keep track of your dependencies!</a>
      
      
        <a class="basic-alignment right" href="/blog/2012/08/07/emacs-haiku-on-twitter/" title="Next Post: Emacs Haiku on Twitter">Emacs Haiku on Twitter &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    
<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/echosa">@echosa</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'echosa',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/echosa" class="twitter-follow-button" data-show-count="false">Follow @echosa</a>
  
</section>

<section>
  <h1>Presentations</h1>
  You can view slides from presentations I&#8217;ve given <a href="https://speakerdeck.com/echosa">here on Speaker Deck</a>.
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Brian Zwahr -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'devstuff-blog';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://echosa.github.io/blog/2012/07/31/showing-what-makes-line-too-long/';
        var disqus_url = 'http://echosa.github.io/blog/2012/07/31/showing-what-makes-line-too-long/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
