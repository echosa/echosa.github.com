<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Zendframework | Dev and Such]]></title>
  <link href="http://echosa.github.io/blog/categories/zendframework/atom.xml" rel="self"/>
  <link href="http://echosa.github.io/"/>
  <updated>2015-07-09T08:35:13-05:00</updated>
  <id>http://echosa.github.io/</id>
  <author>
    <name><![CDATA[Brian Zwahr]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[XDebug and Truncated Output]]></title>
    <link href="http://echosa.github.io/blog/2012/08/22/xdebug-and-truncated-output/"/>
    <updated>2012-08-22T08:42:00-05:00</updated>
    <id>http://echosa.github.io/blog/2012/08/22/xdebug-and-truncated-output</id>
    <content type="html"><![CDATA[<p>Having used Zend_Debug::dump() with XDebug for quite some time, I&rsquo;ve finally gotten tired of seeing truncated output. What I mean is, when I have Zend_Debug::dump() display a stack trace (for instance), it will show the first few lines then truncate with and ellipsis. This is fairly useless. Sure, I <em>could</em> go to the error log, but there&rsquo;s a reason I&rsquo;m dumping this to the screen (when I&rsquo;m in developer mode and have the show debug info flag for my application turned on&hellip; don&rsquo;t worry, this doesn&rsquo;t happen in production). For a while now I&rsquo;ve just put up with it, thinking it an issue with Zend_Debug.</p>

<!--more-->


<p>I was wrong.</p>

<p>Its actually an issue with XDebug and the amount of information it will show. Even just using var_dump by itself (Zend_Debug uses it internally) will result in truncation. However, this is a one line fix. In your php.ini, put this:
    xdebug.var_display_max_data = -1
or in your application config, you can set this at run time like this:
    phpSettings.xdebug.var_display_max_data = -1
The -1 tells XDebug to display an infinite amount of data. No more truncation!</p>

<p>You might ask why I&rsquo;m Zend_Debug::dump()-ing my stack traces anyway, instead of just printing or echoing them. Well, because SHUT UP THAT&rsquo;S WHY. Seriously, though, its just something I&rsquo;ve done since I started using Zend Framework that has stuck around with me. I&rsquo;m only human, which is slightly better than <a href="http://www.youtube.com/watch?v=zQTimBTkYzw">almost human</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Confused About Using BEHAT With ACLs (and ACLs in General)]]></title>
    <link href="http://echosa.github.io/blog/2012/07/03/confused-about-using-behat-with-acls/"/>
    <updated>2012-07-03T12:54:00-05:00</updated>
    <id>http://echosa.github.io/blog/2012/07/03/confused-about-using-behat-with-acls</id>
    <content type="html"><![CDATA[<p>A bit of disclosure before I begin. I&rsquo;m completely new to behat, so I have little knowledge of it beyond what little bit of work I&rsquo;ve done with ecukes (which is basically Cucumber for Emacs). That said, I&rsquo;m trying to setup behat to test various parts of a web application I am writing. Specifically, I have a really, really long form that I&rsquo;m tired of manually filling out and submitting in the browser. However, I believe I&rsquo;m running into an issue accessing the form&rsquo;s page in the first place.</p>

<!-- more -->


<p>The application is using Zend Framework 1.11, and with that I&rsquo;m using Zend_Acl and Zend_Navigation to auto-generate menus and breadcrumbs, as well as restrict access to parts of the application via ACL roles. Its the latter that I believe is causing me issues. What happens in the application is whenever a page is requested, the application looks at the currently logged in user (stored in the session) and retrieves the user&rsquo;s role. The role is then checked against the Zend_Navigation config, which assigns a resource to every page. This user role and page resource are checked with the ACL to find out whether or not the role is allowed rights to the resources. Basically, all basic ACL stuff.</p>

<p>So, to my concern. I need a way to let behat run the page with the form, which of course requires a particular ACL level. My first question is should I be checking my ACL at a different time/level of the application? By this, I mean to say should I make it so that the controller action itself can be reached no matter what (thus, freely available to behat), but somehow deny actual users access, menu items, etc. another way?</p>

<p>My second question is, if the application remains the way it is, what is the best way to &ldquo;log a user in&rdquo; via behat. I&rsquo;m assuming I should make a step definition that creates a user object with a certain role and adds that to the session. Fair enough. However, due to some bad coupling that I can&rsquo;t handle just now (but will handle soon-ish), I need more than just my user model. Which brings me to&hellip;</p>

<p>How do I set up my autoloading in Behat? When I simply require_once for my user model, the other classes can&rsquo;t be found (obviously).</p>

<p>So, I will continue investigating this issue, but please, if you have any useful information for me, comment or contact me in some other way (if you have the means). I&rsquo;d really like to get this underway to improve my life just a little bit.</p>
]]></content>
  </entry>
  
</feed>
